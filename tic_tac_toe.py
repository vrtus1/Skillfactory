# –°–æ–∑–¥–∞–µ–º –ø–æ–ª–µ –¥–ª—è –∏–≥—Ä—ã
board = [[" "] * 3 for i in range(3)]


# –°–æ–∑–¥–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é, –ø–æ–∫–∞–∑—ã–≤–∞—é—â—É—é –¥–æ—Å–∫—É
def show_board():
    print()
    print("    ‚ïë 0 ‚ïë 1 ‚ïë 2 ‚ïë ")
    print("  ùÑñùÑñùÑñùÑñùÑñùÑñùÑñùÑñùÑñùÑñùÑñùÑñùÑñ ")
    for i, row in enumerate(board):
        row_str = f"  {i} ‚ïë {' ‚ïë '.join(row)} ‚ïë "
        print(row_str)
        print("  ùÑñùÑñùÑñùÑñùÑñùÑñùÑñùÑñùÑñùÑñùÑñùÑñùÑñ ")
    print()


# –°–æ–∑–¥–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –≤–≤–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
def input_analysis():
    while True:
        cords = input("         –í–∞—à —Ö–æ–¥: ").split()

        if len(cords) != 2:
            print(" –í–≤–µ–¥–∏—Ç–µ 2 –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã! ")
            continue

        x, y = cords

        if not (x.isdigit()) or not (y.isdigit()):
            print(" –í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–∞! ")
            continue

        x, y = int(x), int(y)

        if 0 > x or x > 2 or 0 > y or y > 2:
            print(" –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤–Ω–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞! ")
            continue

        if board[x][y] != " ":
            print(" –í—ã–±—Ä–∞–Ω–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —É–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã! ")
            continue

        return x, y


# –°–æ–∑–¥–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∏–≥—Ä—ã
def game_check():
    win_combination = (((0, 0), (0, 1), (0, 2)), ((1, 0), (1, 1), (1, 2)), ((2, 0), (2, 1), (2, 2)),
                       ((0, 2), (1, 1), (2, 0)), ((0, 0), (1, 1), (2, 2)), ((0, 0), (1, 0), (2, 0)),
                       ((0, 1), (1, 1), (2, 1)), ((0, 2), (1, 2), (2, 2))
                       )
    for combo in win_combination:
        line = []
        for c in combo:
            line.append(board[c[0]][c[1]])
        if line == ["X", "X", "X"]:
            print("–ü–æ–∑–¥—Ä–∞–≤–ª—è—é, –≤—ã–∏–≥—Ä–∞–ª X!")
            return True
        if line == ["0", "0", "0"]:
            print("–ü–æ–∑–¥—Ä–∞–≤–ª—è—é, –≤—ã–∏–≥—Ä–∞–ª 0!")
            return True
    return False


# –°–æ–∑–¥–∞–µ–º —Ü–∏–∫–ª –¥–ª—è —Å–∞–º–æ–π –∏–≥—Ä—ã, –∏—Å–ø–æ–ª—å–∑—É—è –≤ –Ω–µ–º —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
def restart_game():
    print("–ï—Å—Ç—å –∂–µ–ª–∞–Ω–∏–µ —Å—ã–≥—Ä–∞—Ç—å –µ—â–µ —Ä–∞–∑?")
    answer = input("–í–≤–µ–¥–∏ –¥–∞ –∏–ª–∏ –Ω–µ—Ç: ")
    if answer.lower() == '–¥–∞':
        greetings()
    elif answer.lower() == '–Ω–µ—Ç':
        print("–ü—Ä–æ—â–∞–π!")
        quit()
    else:
        print("–¢—ã –≤–≤–µ–ª –Ω–µ —Ç–æ, —á—Ç–æ —è –ø—Ä–æ—Å–∏–ª :(")
        exit()


def start_game():
    move = 0
    while True:
        move += 1
        show_board()
        if move % 2 == 1:
            print(" –•–æ–¥–∏—Ç –∫—Ä–µ—Å—Ç–∏–∫!")
        else:
            print(" –•–æ–¥–∏—Ç –Ω–æ–ª–∏–∫!")

        x, y = input_analysis()

        if move % 2 == 1:
            board[x][y] = "X"
        else:
            board[x][y] = "0"

        if game_check():
            break

        if move == 9:
            print("–ù–∏—á—å—è! –¢–∞–∫–æ–µ —Å–ª—É—á–∞–µ—Ç—Å—è —Ä–µ–¥–∫–æ, –Ω–æ —Ç—ã —Å–º–æ–≥.")
            break
    restart_game()


# –°–æ–∑–¥–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è –∏ –∫—Ä–∞—Ç–∫–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è –∏–≥—Ä—ã.
def greetings():
    print("‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü ")
    print(" –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é –í–∞—Å –≤ –∏–≥—Ä–µ '–ö—Ä–µ—Å—Ç–∏–∫–∏ - –Ω–æ–ª–∏–∫–∏' ")
    print("‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü")
    print(" –í –¥–∞–Ω–Ω–æ–π –∏–≥—Ä–µ —Ç–µ–±–µ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –≤–≤–æ–¥–∏—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã x & y ")
    print("‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü")
    print(" –ì–¥–µ 'x' - —Å—Ç—Ä–æ–∫–∞, –∞ y - '—Å—Ç–æ–ª–±–∏–∫' ")
    print("‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü‚çü")
    print(" –ü—Ä–∏—è—Ç–Ω–æ–π –≤–∞–º –∏–≥—Ä—ã! ")
    print(" –í–≤–µ–¥–∏—Ç–µ –ª—é–±—É—é —Ü–∏—Ñ—Ä—É, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –∏–≥—Ä—É. ")
    User_response = input("‚òû: ")  # –î–æ–±–∞–≤–∏–ª –¥–ª—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –±—ã—Å—Ç—Ä–æ–≥–æ –≤—ã—Ö–æ–¥–∞, –µ—Å–ª–∏ –Ω–µ—Ç –∂–µ–ª–∞–Ω–∏—è –∏–≥—Ä–∞—Ç—å
    if User_response.isdigit():
        start_game()
    else:
        print("–î–æ –≤—Å—Ç—Ä–µ—á–∏!")


greetings()
